{"remainingRequest":"/home/dinesh/bookamarks/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dinesh/bookamarks/src/components/auth/signin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dinesh/bookamarks/src/components/auth/signin.vue","mtime":1606553448381},{"path":"/home/dinesh/bookamarks/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dinesh/bookamarks/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dinesh/bookamarks/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dinesh/bookamarks/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAiLi4vLi4vRXZlbnRzLmpzIjsKCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9nZ2VkSW46IGZhbHNlLAogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgZXhpc3RpbmdFbWFpbHM6IFtdLAogICAgICBjaGVja3Bhc3N3b3JkOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBheGlvcwogICAgICAuZ2V0KCJodHRwczovL3Z1ZS1ib29rbWFya3MtMjkzNDMuZmlyZWJhc2Vpby5jb20vdXNlcnMuanNvbiIpCiAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgIGNvbnN0IHVzZXJzID0gW107CiAgICAgICAgZm9yIChsZXQga2V5IGluIGRhdGEpIHsKICAgICAgICAgIGNvbnN0IHVzZXIgPSBkYXRhW2tleV07CiAgICAgICAgICB1c2VyLmlkID0ga2V5OwogICAgICAgICAgdXNlcnMucHVzaCh1c2VyKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgbGVuID0gdXNlcnMubGVuZ3RoOwogICAgICAgIHVzZXJzLmZvckVhY2godXMgPT4gewogICAgICAgICAgdGhpcy5leGlzdGluZ0VtYWlscy5wdXNoKHVzLmVtYWlsKTsKICAgICAgICAgIHRoaXMuY2hlY2twYXNzd29yZC5wdXNoKHVzLnBhc3N3b3JkKTsKICAgICAgICB9KTsKICAgICAgfSkKICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKCJFbWFpbCBJRCIpKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0KCkgewogICAgICBpZiAodGhpcy5lbWFpbCA9PT0gIiIgfHwgdGhpcy5wYXNzd29yZCA9PT0gIiIpIHsKICAgICAgICB0aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgICAgdGl0bGU6ICJFcnJvciIsCiAgICAgICAgICBtZXNzYWdlOiAiPHN0cm9uZz5FbWFpbCBvciBwYXNzd29yZCBjYW5ub3QgYmUgZW1wdHk8L3N0cm9uZz4iLAogICAgICAgICAgdHlwZTogImlzLWRhbmdlciIKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5leGlzdGluZ0VtYWlscy5pbmNsdWRlcyh0aGlzLmVtYWlsKSkgewogICAgICAgICAgdmFyIHBvcyA9IHRoaXMuZXhpc3RpbmdFbWFpbHMuaW5kZXhPZih0aGlzLmVtYWlsKTsKICAgICAgICAgIGlmICh0aGlzLnBhc3N3b3JkID09PSB0aGlzLmNoZWNrcGFzc3dvcmRbcG9zXSkgewogICAgICAgICAgICB0aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgICAgICAgIHRpdGxlOiAiV2VsY29tZSEiLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICI8c3Ryb25nPkxvZ2dlZCBpbjwvc3Ryb25nPiIsCiAgICAgICAgICAgICAgdHlwZTogImlzLXN1Y2Nlc3MiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLmxvZ2dlZEluID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDdXJyZW50RW1haWwnLCB0aGlzLmVtYWlsKQogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgiZW1pdHRlZEV2ZW50IiwgdGhpcy5sb2dnZWRJbik7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogImJvb2ttYXJrcyIgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgICAgICAgIHRpdGxlOiAiRXJyb3IiLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICI8c3Ryb25nPlBhc3N3b3JkIFdyb25nPC9zdHJvbmc+IiwKICAgICAgICAgICAgICB0eXBlOiAiaXMtZGFuZ2VyIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgdGl0bGU6ICJFcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICI8c3Ryb25nPmVtYWlsIGlkIGlzIGludmFsaWQ8L3N0cm9uZz4iLAogICAgICAgICAgICB0eXBlOiAiaXMtZGFuZ2VyIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["signin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"signin.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\n  <div id=\"signin\">\n    <div class=\"section is-medium\">\n      <div class=\"columns is-centered\">\n        <div class=\"column is-4\">\n          <div class=\"field\">\n            <label class=\"label\">Email</label>\n            <div class=\"control has-icons-left has-icons-right\">\n              <input\n                class=\"input\"\n                type=\"email\"\n                placeholder=\"Email input\"\n                id=\"email\"\n                v-model=\"email\"\n              >\n              <span class=\"icon is-small is-left\">\n                <icon name=\"envelope\"></icon>\n              </span>\n              <span class=\"icon is-small is-right\">\n                <icon name=\"check\"></icon>\n              </span>\n            </div>\n          </div>\n          <div class=\"field\">\n            <label class=\"label\">Password</label>\n            <p class=\"control has-icons-left\">\n              <input\n                class=\"input\"\n                type=\"password\"\n                placeholder=\"Password\"\n                id=\"password\"\n                v-model=\"password\"\n              >\n              <span class=\"icon is-small is-left\">\n                <icon name=\"lock\"></icon>\n              </span>\n            </p>\n          </div>\n          <div class=\"field submit\">\n            <p class=\"control has-text-centered\">\n              <a class=\"button is-link\" @click=\"onSubmit()\">Sign In</a>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { EventBus } from \"../../Events.js\";\n\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      loggedIn: false,\n      email: \"\",\n      password: \"\",\n      existingEmails: [],\n      checkpassword: []\n    };\n  },\n  created() {\n    axios\n      .get(\"https://vue-bookmarks-29343.firebaseio.com/users.json\")\n      .then(res => {\n        const data = res.data;\n        const users = [];\n        for (let key in data) {\n          const user = data[key];\n          user.id = key;\n          users.push(user);\n        }\n        const len = users.length;\n        users.forEach(us => {\n          this.existingEmails.push(us.email);\n          this.checkpassword.push(us.password);\n        });\n      })\n      .catch(error => console.log(\"Email ID\"));\n  },\n  methods: {\n    onSubmit() {\n      if (this.email === \"\" || this.password === \"\") {\n        this.$dialog.alert({\n          title: \"Error\",\n          message: \"<strong>Email or password cannot be empty</strong>\",\n          type: \"is-danger\"\n        });\n      } else {\n        if (this.existingEmails.includes(this.email)) {\n          var pos = this.existingEmails.indexOf(this.email);\n          if (this.password === this.checkpassword[pos]) {\n            this.$dialog.alert({\n              title: \"Welcome!\",\n              message: \"<strong>Logged in</strong>\",\n              type: \"is-success\"\n            });\n            this.loggedIn = true;\n            this.$store.commit('setCurrentEmail', this.email)\n            EventBus.$emit(\"emittedEvent\", this.loggedIn);\n            this.$router.push({ name: \"bookmarks\" });\n          } else {\n            this.$dialog.alert({\n              title: \"Error\",\n              message: \"<strong>Password Wrong</strong>\",\n              type: \"is-danger\"\n            });\n          }\n        } else {\n          this.$dialog.alert({\n            title: \"Error\",\n            message: \"<strong>email id is invalid</strong>\",\n            type: \"is-danger\"\n          });\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.navbar-item img {\n  max-height: 4rem !important;\n}\n</style>"]}]}