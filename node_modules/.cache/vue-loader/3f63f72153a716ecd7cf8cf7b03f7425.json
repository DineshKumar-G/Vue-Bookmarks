{"remainingRequest":"/home/dinesh/bookmarks-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dinesh/bookmarks-vue/src/components/auth/signup.vue?vue&type=style&index=0&id=94f778e2&scoped=true&lang=css&","dependencies":[{"path":"/home/dinesh/bookmarks-vue/src/components/auth/signup.vue","mtime":1606551925506},{"path":"/home/dinesh/bookmarks-vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dinesh/bookmarks-vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/dinesh/bookmarks-vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/dinesh/bookmarks-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dinesh/bookmarks-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm5hdmJhci1pdGVtIGltZyB7CiAgbWF4LWhlaWdodDogNHJlbSAhaW1wb3J0YW50Owp9Cg=="},{"version":3,"sources":["signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmMA;AACA;AACA","file":"signup.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\n  <div id=\"signup\">\n    <div class=\"section is-small\">\n      <div class=\"columns is-centered\">\n        <div class=\"column is-4\">\n          <div class=\"field\">\n            <label class=\"label\">Email</label>\n            <div class=\"control has-icons-left has-icons-right\">\n              <input\n                class=\"input\"\n                type=\"email\"\n                placeholder=\"Email input\"\n                id=\"email\"\n                v-model=\"email\"\n              >\n              <span class=\"icon is-small is-left\">\n                <icon name=\"envelope\"></icon>\n              </span>\n              <span class=\"icon is-small is-right\">\n                <icon name=\"check\"></icon>\n              </span>\n            </div>\n          </div>\n          <div class=\"field\">\n            <label class=\"label\">Agee</label>\n            <div class=\"control has-icons-left\">\n              <input\n                class=\"input\"\n                type=\"number\"\n                id=\"age\"\n                placeholder=\"Optional\"\n                v-model.number=\"age\"\n              >\n              <span class=\"icon is-small is-left\">\n                <icon name=\"paper-plane\"></icon>\n              </span>\n            </div>\n          </div>\n          <div class=\"field\">\n            <label class=\"label\">Password</label>\n            <p class=\"control has-icons-left\">\n              <input\n                class=\"input\"\n                type=\"password\"\n                placeholder=\"Password\"\n                id=\"password\"\n                v-model=\"password\"\n              >\n              <span class=\"icon is-small is-left\">\n                <icon name=\"lock\"></icon>\n              </span>\n            </p>\n          </div>\n          <div class=\"field\">\n            <label class=\"label\">Confirm Password</label>\n            <p class=\"control has-icons-left\">\n              <input\n                class=\"input\"\n                type=\"password\"\n                placeholder=\"Password\"\n                id=\"confirm-password\"\n                v-model=\"confirmPassword\"\n              >\n              <span class=\"icon is-small is-left\">\n                <icon name=\"lock\"></icon>\n              </span>\n            </p>\n          </div>\n          <div class=\"field\" style=\"padding-left:150px;\">\n            <label class=\"label\" for=\"country\">Country</label>\n            <p class=\"control\">\n              <span class=\"select\">\n                <select id=\"country\" v-model=\"country\">\n                  <option value=\"usa\">USA</option>\n                  <option value=\"india\">India</option>\n                  <option value=\"uk\">UK</option>\n                  <option value=\"germany\">Germany</option>\n                </select>\n              </span>\n            </p>\n          </div>\n          <div class=\"field submit\">\n            <p class=\"control has-text-centered\">\n              <a class=\"button is-link\" @click=\"onSubmit()\">Sign Up</a>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { EventBus } from \"../../Events.js\";\n\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      email: \"\",\n      age: null,\n      password: \"\",\n      confirmPassword: \"\",\n      country: \"usa\",\n      terms: false,\n      existingEmails: []\n    };\n  },\n  created() {\n    axios\n      .get(\"https://vue-bookmarks-29343.firebaseio.com/users.json\")\n      .then(res => {\n        const data = res.data;\n        const users = [];\n        for (let key in data) {\n          const user = data[key];\n          user.id = key;\n          users.push(user);\n        }\n        const len = users.length;\n        users.forEach(us => {\n          this.existingEmails.push(us.email);\n        });\n      })\n      .catch(error => console.log(error));\n  },\n  methods: {\n    onSubmit() {\n      if (!this.existingEmails.includes(this.email)) {\n        var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        if (!re.test(String(this.email).toLowerCase())) {\n          this.$dialog.alert({\n            title: \"Error\",\n            message: \"<strong>Please Enter valid Email id</strong>\",\n            type: \"is-danger\"\n          });\n        } else if (this.password.length < 8) {\n          this.$dialog.alert({\n            title: \"Error\",\n            message: \"<strong>Password has to be 8 characters long</strong>\",\n            type: \"is-danger\"\n          });\n        } else if (this.password !== this.confirmPassword) {\n          this.$dialog.alert({\n            title: \"Error\",\n            message:\n              \"<strong>Type the same password in both the password fields</strong>\",\n            type: \"is-danger\"\n          });\n        } else {\n          const formData = {\n            email: this.email,\n            age: this.age,\n            password: this.password,\n            confirmPassword: this.confirmPassword,\n            country: this.country\n          };\n          axios\n            .post(\n              \"https://vue-bookmarks-29343.firebaseio.com/users.json\",\n              formData\n            )\n            .then(res =>\n              Email.send({\n                Host: \"smtp25.elasticemail.com\",\n                Username: \"testttt220188@gmail.com\",\n                Password: \"1016ba89-c158-45da-ad82-c9420860a2e8\",\n                To: this.email,\n                From: \"testttt220188@gmail.com\",\n                Subject: \"Welcome to Vue Bookmarks by G Dinesh Kumar\",\n                Body: \"You can add bookmarks now!!\"\n              }).then(message =>\n                this.$dialog.alert({\n                  title: \"Success\",\n                  message:\n                    \"<strong>Mail has been sent to your email Id and you can Log in now!</strong>\",\n                  type: \"is-success\"\n                })\n              )\n            )\n            .catch(error => console.log(error));\n        }\n      } else {\n        this.$dialog.alert({\n          title: \"Error\",\n          message: \"<strong>Email Already Exists!!!</strong>\",\n          type: \"is-danger\"\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.navbar-item img {\n  max-height: 4rem !important;\n}\n</style>"]}]}