{"remainingRequest":"/home/dinesh/bookamarks/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dinesh/bookamarks/src/components/auth/signin.vue?vue&type=style&index=0&id=6aa6a0ee&scoped=true&lang=css&","dependencies":[{"path":"/home/dinesh/bookamarks/src/components/auth/signin.vue","mtime":1606553448381},{"path":"/home/dinesh/bookamarks/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dinesh/bookamarks/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/dinesh/bookamarks/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/dinesh/bookamarks/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dinesh/bookamarks/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5uYXZiYXItaXRlbSBpbWcgewogIG1heC1oZWlnaHQ6IDRyZW0gIWltcG9ydGFudDsKfQo="},{"version":3,"sources":["signin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;AACA","file":"signin.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\n  <div id=\"signin\">\n    <div class=\"section is-medium\">\n      <div class=\"columns is-centered\">\n        <div class=\"column is-4\">\n          <div class=\"field\">\n            <label class=\"label\">Email</label>\n            <div class=\"control has-icons-left has-icons-right\">\n              <input\n                class=\"input\"\n                type=\"email\"\n                placeholder=\"Email input\"\n                id=\"email\"\n                v-model=\"email\"\n              >\n              <span class=\"icon is-small is-left\">\n                <icon name=\"envelope\"></icon>\n              </span>\n              <span class=\"icon is-small is-right\">\n                <icon name=\"check\"></icon>\n              </span>\n            </div>\n          </div>\n          <div class=\"field\">\n            <label class=\"label\">Password</label>\n            <p class=\"control has-icons-left\">\n              <input\n                class=\"input\"\n                type=\"password\"\n                placeholder=\"Password\"\n                id=\"password\"\n                v-model=\"password\"\n              >\n              <span class=\"icon is-small is-left\">\n                <icon name=\"lock\"></icon>\n              </span>\n            </p>\n          </div>\n          <div class=\"field submit\">\n            <p class=\"control has-text-centered\">\n              <a class=\"button is-link\" @click=\"onSubmit()\">Sign In</a>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { EventBus } from \"../../Events.js\";\n\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      loggedIn: false,\n      email: \"\",\n      password: \"\",\n      existingEmails: [],\n      checkpassword: []\n    };\n  },\n  created() {\n    axios\n      .get(\"https://vue-bookmarks-29343.firebaseio.com/users.json\")\n      .then(res => {\n        const data = res.data;\n        const users = [];\n        for (let key in data) {\n          const user = data[key];\n          user.id = key;\n          users.push(user);\n        }\n        const len = users.length;\n        users.forEach(us => {\n          this.existingEmails.push(us.email);\n          this.checkpassword.push(us.password);\n        });\n      })\n      .catch(error => console.log(\"Email ID\"));\n  },\n  methods: {\n    onSubmit() {\n      if (this.email === \"\" || this.password === \"\") {\n        this.$dialog.alert({\n          title: \"Error\",\n          message: \"<strong>Email or password cannot be empty</strong>\",\n          type: \"is-danger\"\n        });\n      } else {\n        if (this.existingEmails.includes(this.email)) {\n          var pos = this.existingEmails.indexOf(this.email);\n          if (this.password === this.checkpassword[pos]) {\n            this.$dialog.alert({\n              title: \"Welcome!\",\n              message: \"<strong>Logged in</strong>\",\n              type: \"is-success\"\n            });\n            this.loggedIn = true;\n            this.$store.commit('setCurrentEmail', this.email)\n            EventBus.$emit(\"emittedEvent\", this.loggedIn);\n            this.$router.push({ name: \"bookmarks\" });\n          } else {\n            this.$dialog.alert({\n              title: \"Error\",\n              message: \"<strong>Password Wrong</strong>\",\n              type: \"is-danger\"\n            });\n          }\n        } else {\n          this.$dialog.alert({\n            title: \"Error\",\n            message: \"<strong>email id is invalid</strong>\",\n            type: \"is-danger\"\n          });\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.navbar-item img {\n  max-height: 4rem !important;\n}\n</style>"]}]}