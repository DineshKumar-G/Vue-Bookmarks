{"remainingRequest":"/home/dinesh/bookamarks/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dinesh/bookamarks/src/components/auth/signup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dinesh/bookamarks/src/components/auth/signup.vue","mtime":1606551925506},{"path":"/home/dinesh/bookamarks/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dinesh/bookamarks/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dinesh/bookamarks/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAiLi4vLi4vRXZlbnRzLmpzIjsKCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICIiLAogICAgICBhZ2U6IG51bGwsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgY29uZmlybVBhc3N3b3JkOiAiIiwKICAgICAgY291bnRyeTogInVzYSIsCiAgICAgIHRlcm1zOiBmYWxzZSwKICAgICAgZXhpc3RpbmdFbWFpbHM6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGF4aW9zCiAgICAgIC5nZXQoImh0dHBzOi8vdnVlLWJvb2ttYXJrcy0yOTM0My5maXJlYmFzZWlvLmNvbS91c2Vycy5qc29uIikKICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgY29uc3QgdXNlcnMgPSBbXTsKICAgICAgICBmb3IgKGxldCBrZXkgaW4gZGF0YSkgewogICAgICAgICAgY29uc3QgdXNlciA9IGRhdGFba2V5XTsKICAgICAgICAgIHVzZXIuaWQgPSBrZXk7CiAgICAgICAgICB1c2Vycy5wdXNoKHVzZXIpOwogICAgICAgIH0KICAgICAgICBjb25zdCBsZW4gPSB1c2Vycy5sZW5ndGg7CiAgICAgICAgdXNlcnMuZm9yRWFjaCh1cyA9PiB7CiAgICAgICAgICB0aGlzLmV4aXN0aW5nRW1haWxzLnB1c2godXMuZW1haWwpOwogICAgICAgIH0pOwogICAgICB9KQogICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0KCkgewogICAgICBpZiAoIXRoaXMuZXhpc3RpbmdFbWFpbHMuaW5jbHVkZXModGhpcy5lbWFpbCkpIHsKICAgICAgICB2YXIgcmUgPSAvXigoW148PigpXFtcXVxcLiw7OlxzQCJdKyhcLltePD4oKVxbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgICAgaWYgKCFyZS50ZXN0KFN0cmluZyh0aGlzLmVtYWlsKS50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgdGl0bGU6ICJFcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICI8c3Ryb25nPlBsZWFzZSBFbnRlciB2YWxpZCBFbWFpbCBpZDwvc3Ryb25nPiIsCiAgICAgICAgICAgIHR5cGU6ICJpcy1kYW5nZXIiCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFzc3dvcmQubGVuZ3RoIDwgOCkgewogICAgICAgICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgdGl0bGU6ICJFcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICI8c3Ryb25nPlBhc3N3b3JkIGhhcyB0byBiZSA4IGNoYXJhY3RlcnMgbG9uZzwvc3Ryb25nPiIsCiAgICAgICAgICAgIHR5cGU6ICJpcy1kYW5nZXIiCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFzc3dvcmQgIT09IHRoaXMuY29uZmlybVBhc3N3b3JkKSB7CiAgICAgICAgICB0aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgICAgICB0aXRsZTogIkVycm9yIiwKICAgICAgICAgICAgbWVzc2FnZToKICAgICAgICAgICAgICAiPHN0cm9uZz5UeXBlIHRoZSBzYW1lIHBhc3N3b3JkIGluIGJvdGggdGhlIHBhc3N3b3JkIGZpZWxkczwvc3Ryb25nPiIsCiAgICAgICAgICAgIHR5cGU6ICJpcy1kYW5nZXIiCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc3QgZm9ybURhdGEgPSB7CiAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgICBhZ2U6IHRoaXMuYWdlLAogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgICAgY29uZmlybVBhc3N3b3JkOiB0aGlzLmNvbmZpcm1QYXNzd29yZCwKICAgICAgICAgICAgY291bnRyeTogdGhpcy5jb3VudHJ5CiAgICAgICAgICB9OwogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgICAgImh0dHBzOi8vdnVlLWJvb2ttYXJrcy0yOTM0My5maXJlYmFzZWlvLmNvbS91c2Vycy5qc29uIiwKICAgICAgICAgICAgICBmb3JtRGF0YQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKHJlcyA9PgogICAgICAgICAgICAgIEVtYWlsLnNlbmQoewogICAgICAgICAgICAgICAgSG9zdDogInNtdHAyNS5lbGFzdGljZW1haWwuY29tIiwKICAgICAgICAgICAgICAgIFVzZXJuYW1lOiAidGVzdHR0dDIyMDE4OEBnbWFpbC5jb20iLAogICAgICAgICAgICAgICAgUGFzc3dvcmQ6ICIxMDE2YmE4OS1jMTU4LTQ1ZGEtYWQ4Mi1jOTQyMDg2MGEyZTgiLAogICAgICAgICAgICAgICAgVG86IHRoaXMuZW1haWwsCiAgICAgICAgICAgICAgICBGcm9tOiAidGVzdHR0dDIyMDE4OEBnbWFpbC5jb20iLAogICAgICAgICAgICAgICAgU3ViamVjdDogIldlbGNvbWUgdG8gVnVlIEJvb2ttYXJrcyBieSBHIERpbmVzaCBLdW1hciIsCiAgICAgICAgICAgICAgICBCb2R5OiAiWW91IGNhbiBhZGQgYm9va21hcmtzIG5vdyEhIgogICAgICAgICAgICAgIH0pLnRoZW4obWVzc2FnZSA9PgogICAgICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgbWVzc2FnZToKICAgICAgICAgICAgICAgICAgICAiPHN0cm9uZz5NYWlsIGhhcyBiZWVuIHNlbnQgdG8geW91ciBlbWFpbCBJZCBhbmQgeW91IGNhbiBMb2cgaW4gbm93ITwvc3Ryb25nPiIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJpcy1zdWNjZXNzIgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGRpYWxvZy5hbGVydCh7CiAgICAgICAgICB0aXRsZTogIkVycm9yIiwKICAgICAgICAgIG1lc3NhZ2U6ICI8c3Ryb25nPkVtYWlsIEFscmVhZHkgRXhpc3RzISEhPC9zdHJvbmc+IiwKICAgICAgICAgIHR5cGU6ICJpcy1kYW5nZXIiCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"signup.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\n  <div id=\"signup\">\n    <div class=\"section is-small\">\n      <div class=\"columns is-centered\">\n        <div class=\"column is-4\">\n          <div class=\"field\">\n            <label class=\"label\">Email</label>\n            <div class=\"control has-icons-left has-icons-right\">\n              <input\n                class=\"input\"\n                type=\"email\"\n                placeholder=\"Email input\"\n                id=\"email\"\n                v-model=\"email\"\n              >\n              <span class=\"icon is-small is-left\">\n                <icon name=\"envelope\"></icon>\n              </span>\n              <span class=\"icon is-small is-right\">\n                <icon name=\"check\"></icon>\n              </span>\n            </div>\n          </div>\n          <div class=\"field\">\n            <label class=\"label\">Agee</label>\n            <div class=\"control has-icons-left\">\n              <input\n                class=\"input\"\n                type=\"number\"\n                id=\"age\"\n                placeholder=\"Optional\"\n                v-model.number=\"age\"\n              >\n              <span class=\"icon is-small is-left\">\n                <icon name=\"paper-plane\"></icon>\n              </span>\n            </div>\n          </div>\n          <div class=\"field\">\n            <label class=\"label\">Password</label>\n            <p class=\"control has-icons-left\">\n              <input\n                class=\"input\"\n                type=\"password\"\n                placeholder=\"Password\"\n                id=\"password\"\n                v-model=\"password\"\n              >\n              <span class=\"icon is-small is-left\">\n                <icon name=\"lock\"></icon>\n              </span>\n            </p>\n          </div>\n          <div class=\"field\">\n            <label class=\"label\">Confirm Password</label>\n            <p class=\"control has-icons-left\">\n              <input\n                class=\"input\"\n                type=\"password\"\n                placeholder=\"Password\"\n                id=\"confirm-password\"\n                v-model=\"confirmPassword\"\n              >\n              <span class=\"icon is-small is-left\">\n                <icon name=\"lock\"></icon>\n              </span>\n            </p>\n          </div>\n          <div class=\"field\" style=\"padding-left:150px;\">\n            <label class=\"label\" for=\"country\">Country</label>\n            <p class=\"control\">\n              <span class=\"select\">\n                <select id=\"country\" v-model=\"country\">\n                  <option value=\"usa\">USA</option>\n                  <option value=\"india\">India</option>\n                  <option value=\"uk\">UK</option>\n                  <option value=\"germany\">Germany</option>\n                </select>\n              </span>\n            </p>\n          </div>\n          <div class=\"field submit\">\n            <p class=\"control has-text-centered\">\n              <a class=\"button is-link\" @click=\"onSubmit()\">Sign Up</a>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { EventBus } from \"../../Events.js\";\n\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      email: \"\",\n      age: null,\n      password: \"\",\n      confirmPassword: \"\",\n      country: \"usa\",\n      terms: false,\n      existingEmails: []\n    };\n  },\n  created() {\n    axios\n      .get(\"https://vue-bookmarks-29343.firebaseio.com/users.json\")\n      .then(res => {\n        const data = res.data;\n        const users = [];\n        for (let key in data) {\n          const user = data[key];\n          user.id = key;\n          users.push(user);\n        }\n        const len = users.length;\n        users.forEach(us => {\n          this.existingEmails.push(us.email);\n        });\n      })\n      .catch(error => console.log(error));\n  },\n  methods: {\n    onSubmit() {\n      if (!this.existingEmails.includes(this.email)) {\n        var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        if (!re.test(String(this.email).toLowerCase())) {\n          this.$dialog.alert({\n            title: \"Error\",\n            message: \"<strong>Please Enter valid Email id</strong>\",\n            type: \"is-danger\"\n          });\n        } else if (this.password.length < 8) {\n          this.$dialog.alert({\n            title: \"Error\",\n            message: \"<strong>Password has to be 8 characters long</strong>\",\n            type: \"is-danger\"\n          });\n        } else if (this.password !== this.confirmPassword) {\n          this.$dialog.alert({\n            title: \"Error\",\n            message:\n              \"<strong>Type the same password in both the password fields</strong>\",\n            type: \"is-danger\"\n          });\n        } else {\n          const formData = {\n            email: this.email,\n            age: this.age,\n            password: this.password,\n            confirmPassword: this.confirmPassword,\n            country: this.country\n          };\n          axios\n            .post(\n              \"https://vue-bookmarks-29343.firebaseio.com/users.json\",\n              formData\n            )\n            .then(res =>\n              Email.send({\n                Host: \"smtp25.elasticemail.com\",\n                Username: \"testttt220188@gmail.com\",\n                Password: \"1016ba89-c158-45da-ad82-c9420860a2e8\",\n                To: this.email,\n                From: \"testttt220188@gmail.com\",\n                Subject: \"Welcome to Vue Bookmarks by G Dinesh Kumar\",\n                Body: \"You can add bookmarks now!!\"\n              }).then(message =>\n                this.$dialog.alert({\n                  title: \"Success\",\n                  message:\n                    \"<strong>Mail has been sent to your email Id and you can Log in now!</strong>\",\n                  type: \"is-success\"\n                })\n              )\n            )\n            .catch(error => console.log(error));\n        }\n      } else {\n        this.$dialog.alert({\n          title: \"Error\",\n          message: \"<strong>Email Already Exists!!!</strong>\",\n          type: \"is-danger\"\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.navbar-item img {\n  max-height: 4rem !important;\n}\n</style>"]}]}